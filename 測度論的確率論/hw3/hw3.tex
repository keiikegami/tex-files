\documentclass{article}
\usepackage[margin = .7in]{geometry}
\usepackage[dvipdfmx]{graphicx}
\usepackage{listings}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{bm}
\usepackage{mathrsfs}
\lstset{%
  language={python},
  basicstyle={\small},%
  identifierstyle={\small},%
  commentstyle={\small\itshape},%
  keywordstyle={\small\bfseries},%
  ndkeywordstyle={\small},%
  stringstyle={\small\ttfamily},
  frame={tb},
  breaklines=true,
  columns=[l]{fullflexible},%
  numbers=left,%
  xrightmargin=0zw,%
  xleftmargin=3zw,%
  numberstyle={\scriptsize},%
  stepnumber=1,
  numbersep=1zw,%
  lineskip=-0.5ex%
}

\begin{document}
\title{測度論的確率論 2018 S1S2 \\ 
Homework 3}
\author{経済学研究科現代経済コース修士1年 / 池上　慧 (29186009) / sybaster.x@gmail.com}
\maketitle

\section{Ex2.3}
両方向の包含関係が成立することを以下で示す。

\subsection{$\mathcal{B}\left( \mathbb{R}^2 \right) \subset \mathcal{B}^2$を示す。}
　$(a_1, b_1)\times (a_2,b_2) = \bigcup_{n=1}^{\infty} (a_1, b_1 -\frac{1}{n}] \times(a_2, b_2-\frac{1}{n}]$である。なぜなら、
\begin{align*}
	\forall (x, y) \in (a_1, b_1)\times (a_2,b_2)\ \ a_1 < x < b_1, a_2 < y<b_2
	\Rightarrow
	\exists\ n_1,n_2\ \text{s.t.}\ x\leq b_1-\frac{1}{n_1},\ y\leq b_2-\frac{1}{n_2}
\end{align*}
なので、$N = \max(n_1, n_2)$とおけば、$\forall n\geq N\ (x,y) \in (a_1, b_1 -\frac{1}{n}] \times(a_2, b_2-\frac{1}{n}]$となるので、$(a_1, b_1)\times (a_2,b_2) \subset \bigcup_{n=1}^{\infty} (a_1, b_1 -\frac{1}{n}] \times(a_2, b_2-\frac{1}{n}]$である。

逆向きの包含関係も、任意に$(x,y)\in \bigcup_{n=1}^{\infty} (a_1, b_1 -\frac{1}{n}] \times(a_2, b_2-\frac{1}{n}]$をとると、ある$N$については必ず$(x, y)\in (a_1, b_1 -\frac{1}{N}] \times(a_2, b_2-\frac{1}{N}]$であるので、$(a_1, b_1 -\frac{1}{N}] \times(a_2, b_2-\frac{1}{N}] \subset (a_1,b_1)\times(a_2,b_2)$であることから示される。

すなわち、$(a_1,b_1)\times(a_2,b_2)$は$\mathcal{B}^2$を生成する半開区間の可算和で表現できることがわかった。したがって、Borel sigma fieldの定義より$(a_1,b_1)\times(a_2,b_2) \in \mathcal(B)^2$である。

ここで、「$\mathbb{R}^2$の任意の開集合は$\mathbb{R}^2$の開区間の可算和でかける（主張1）」とすると、sigma fieldの性質から$(a_1,b_1)\times(a_2,b_2)$の可算和で表現される任意の集合は$\mathcal(B)^2$に含まれているので、$\mathcal{B}\left( \mathbb{R}^2 \right) \subset \mathcal{B}^2$が示された。

よって以下では（主張1）を証明する。to be written

\subsection{$\mathcal{B}^2 \subset \mathcal{B} \left(\mathbb{R}^2 \right)$を示す。}
　まず、$(a_1, b_1] \times(a_2,b_2] = \bigcap_{n=1}^{\infty} (a_1, b_1+\frac{1}{n}) \times(a_2, b_2+\frac{1}{n})$を示す。左辺が右辺に含まれることは以下のように確認できる。
　
　任意に$(x,y) \in (a_1, b_1] \times(a_2,b_2]$をとると、
\begin{align*}
	\forall n\geq1\ \begin{cases}
	a_1 < x < b_1 + \frac{1}{n}\\
	a_2 < x < b_2 + \frac{1}{n}
	\end{cases}
	\Rightarrow
	\forall n\geq1\ (x,y)\in (a_1, b_1+\frac{1}{n})\times(a_2,b_2+\frac{1}{n})
	\Rightarrow
	(x, y)\in \bigcap_{n=1}^{\infty} (a_1, b_1+\frac{1}{n}) \times(a_2, b_2+\frac{1}{n})
\end{align*}
である。

　逆向きの包含関係は以下のように確認できる。任意に$(x,y) \in \bigcap_{n=1}^{\infty} (a_1, b_1+\frac{1}{n}) \times(a_2, b_2+\frac{1}{n})$をとると、$\forall n\geq1\ (x,y)\in (a_1, b_1+\frac{1}{n}) \times(a_2, b_2+\frac{1}{n})$である。この時、
\begin{align*}
	a_1 <x< b_1+\frac{1}{n}\ \Rightarrow\ a_1 < x \leq \inf \left(b_1 + \frac{1}{n}\right)\ \Rightarrow\ a_1 < x \leq b_1
\end{align*}
である。$y$についても同様にできるので、$(x,y) \in (a_1, b_1] \times(a_2,b_2]$であることがわかる。

　これより、$\mathcal{B}^2$を生成する集合の要素は$\mathbb{R}^2$上の開区間全体を含む最小のsigma fieldに含まれることがわかる。これはつまり、$\mathcal{B}^2$が$\mathbb{R}^2$上の開区間全体を含む最小のsigma fieldに含まれることを意味する。また、$\mathcal{B} \left(\mathbb{R}^2 \right)$を生成する開集合全体には明らかに$\mathbb{R}^2$上の開区間全体が含まれているため、$\mathbb{R}^2$上の開区間全体を含む最小のsigma fieldは$\mathcal{B} \left(\mathbb{R}^2 \right)$に含まれる。したがって$\mathcal{B}^2 \subset \mathcal{B} \left(\mathbb{R}^2 \right)$である。



\section{Ex2.5}
両方向の包含関係が成立することを以下で示す。

\subsection{$\mathcal{B}(X)\times\mathcal{B}(Y) \subset \mathcal{B}(X\times Y)$}

　開集合$A\subset X$を任意にとる。まず、$A \times Y$が$X\times Y$の開集合であることを示す。

　まず、直積空間$X \times Y$上に以下のように距離$(d)$が定義できる。
\begin{align*}
	\text{let}\ x = (x_1, x_2),\ y = (y_1,y_2),\ \text{where}\ x_1,y_1\in X,\ x_2,y_2\in Y\ \text{then}\ d(x,y) \equiv\ d_1(x_1,y_1)+d_2(x_2,y_2)
\end{align*}

　すなわち$(X\times Y, d)$は距離空間とできる。以下ではこの距離$d$について$A \times Y$が開集合であることを確認する。

　全体集合$Y$が開かつ閉集合であることより、$(p,q)\in A\times Y$について以下の二つが成立する。
\begin{align*}
	\exists \epsilon >0\ \text{s.t.}\ \left\{ x\in X\mid d_1(x,p) < \epsilon \right\} \subset A\\
	\exists \eta >0\ \text{s.t.}\ \left\{ y\in Y\mid d_2(y,q) < \eta \right\} \subset Y
\end{align*}

　ここで、上の集合に含まれる$(x,y)$について、
\begin{align*}
	d((x,y), (p,q)) = d_1(x,p) + d_2(y, q) < \epsilon + \eta
\end{align*}
が成立する。従って、$(p,q)$を任意にとっても、$\left\{ (x, y)\in X\times Y\mid d((x,y),(p,q)) < \delta \right\}$なる集合が$\delta$を十分小さくすることによって$A\times Y$に含まれることがわかる。これより$A\times Y$は開集合である。

　これよりBorel sigma fieldの定義から、$A\times Y \in \mathcal{B}(X \times Y)$である。ここで、$\mathcal{C} = \left\{ A \subset X\mid A\times Y \in \mathcal{B}(X \times Y)\right\}$とする。先の議論より任意の開集合$A \subset X$について$A\times Y \in \mathcal{B}(X \times Y)$であるので、$\left\{ \text{$X$の開集合全体}\right\} \subset \mathcal{C}$である。

　また、$\left\{ c_i \right\}_{i=1}^{\infty} \in \mathcal{C}$をとる。明らかに$\bigcup_{i=1}^{\infty} c_i\ \times Y$が開集合であり、$\mathcal{B}(X\times Y)$に含まれることから、$\mathcal{C}$はsigma field、それも$X$の開集合全体を含むsigma fieldである。Borel sigma fieldの定義より$\mathcal{B}(X) \subset \mathcal{C}$である。

　これより、$A \in \mathcal{B}(X)\subset \mathcal{C}$なので、任意の$A\in \mathcal{B}(X)$について$A\times Y \in \mathcal{B}(X\times Y)$である。$Y$上の開集合$B$についても同様の議論が適用できて、任意の$B\in \mathcal{B}(Y)$について$X\times B\in \mathcal{B}(X\times Y)$である。

　従って、以下が成立する。
\begin{align*}
	\forall A\in\mathcal{B}(X), B \in \mathcal{B}(Y)\ A\times B = (A\times Y) \cap (X\times B) \subset \mathcal{B}(X\times Y)
\end{align*}
すなわち$\mathcal{B}(X)\times\mathcal{B}(Y) \subset \mathcal{B}(X\times Y)$である。

\subsection{$\mathcal{B}(X\times Y)\subset \mathcal{B}(X)\times\mathcal{B}(Y)$}
　「$X,Y$が可分ならば$X\times Y$も可分（主張2）」を所与とすると、以下のように証明できる。

　任意に開集合$A\times B \subset X\times Y$をとる。開集合の定義より、任意の$(x,y) \in A\times B$について、距離$d$を用いた$\epsilon$-ballを$B_{\epsilon}((x,y))$と書くと以下が成立する。
\begin{align*}
	\exists \epsilon > 0\ \text{s.t.}\ B_{\epsilon}((x,y)) \subset A\times B
\end{align*}

　ここで$X\times Y$について稠密な可算集合を$D$と書く。この時、任意の$(x,y) \in A\times B$について
\begin{align*}
	(s,t)_{(x,y)} \in B_{\frac{\epsilon}{3}}((x,y)) \cap D \subset A\times B
\end{align*}
が必ず取れる。ここで$\epsilon_{(x,y)} = \frac{\epsilon}{2}$とすると、
\begin{align*}
	(x,y) \in B_{\epsilon_{(x,y)}}((s,t)_{(x,y)})
\end{align*}
が必ず成立する。

　つまり、$A\times B$の任意の要素は、$D\cap (A\times B)$の要素を中心として、それ自身も$A\times B$に含まれるような$\epsilon$-ballに入れることができる。今、$\bigcup_{(s,t)\in D\cap(A\times B)} B_{\epsilon_{(s,t)}}((s,t))$を考える。ただしここで$B_{\epsilon_{(s,t)}}((s,t))$はそれ自身が$A\times B$に含まれるように取られている。先の議論より、$A\times B \subset \bigcup_{(s,t)\in D\cap(A\times B)} B_{\epsilon_{(s,t)}}((s,t))$である。逆向きの包含関係については、$\exists (s,t)\ \text{s.t.}\ (x, y)\in B_{\epsilon_{(s,t)}}((s,t))$の時、$B_{\epsilon_{(s,t)}}((s,t))$がもともと$A\times B$に含まれるように取られているので当然$(x, y)\in A\times B$であることから確認できる。

　従って$A\times B = \bigcup_{(s,t)\in D\cap(A\times B)} B_{\epsilon_{(s,t)}}((s,t))$である。ここで、左辺はopen ballの可算個の和集合となっている。$X\times Y$の任意の開集合は$X\times Y$上のopen ballの可算個の和集合で表現できる。これは、
\begin{align*}
\mathcal{B}(X\times Y) \subset \text{$X\times Y$のopen ballが生成する最小のsigma field}
\end{align*}
を意味する。

　さらに、$X\times Y$のopen ball全体は、明らかに$\left\{ A^{'} \times B^{'} \mid A^{'} \in \mathcal{B}(X),\ B^{'} \in \mathcal{B}(Y) \right\}$に含まれているので、
\begin{align*}
	\mathcal{B}(X\times Y) \subset \sigma\left( \left\{ A^{'} \times B^{'} \mid A^{'} \in \mathcal{B}(X),\ B^{'} \in \mathcal{B}(Y) \right\} \right) = \mathcal{B}(X)\times\mathcal{B}(Y)
\end{align*}
が成立する。

\section{Ex2.6}
　前問後半と同様の議論により、開集合$A\subset X$に対して以下が成立する。
\begin{align*}
	A = \bigcup_{s\in A\cap D} B_{\epsilon_s}(s)
\end{align*}
これより、$\mathcal{B}(X)\subset \sigma\left( \left\{ B_{\epsilon_s}(s)\mid s\in D \right\} \right)$である。open ballは必ず開集合なので、明らかに$\sigma\left( \left\{ B_{\epsilon_s}(s)\mid s\in D \right\} \right) \subset \mathcal{B}(X)$であるので、$\mathcal{B}(X) = \sigma\left( \left\{ B_{\epsilon_s}(s)\mid s\in D \right\} \right)$である。ここで、$D$が可算集合なので、$\left\{ B_{\epsilon_s}(s)\mid s\in D \right\}$は可算集合。また、明らかに$\left\{ B_{\epsilon_s}(s)\mid s\in D \right\} \subset \mathcal{B}(X)$であるので、$\mathcal{B}(X)$はcountably generatedである。


\section{Ex3.3}
　$\mathcal{B}^{*}$を拡張実数$\bar{\mathbb{R}}$に入っているsigma fieldであるとする。この時、任意に$B \in \mathcal{B}^{*}$を取ってくると、
\begin{align*}
	h^{-1}(B) = \left\{ \left\{ f^{-1}(B) \right\}\cap A \right\} \cup \left\{ \left\{ g^{-1}(B) \right\}\cap A^c \right\}
\end{align*}
であり、$f,g$が可測関数であることから、$f^{-1}(b),g^{-1}(B)$は$\mathcal{A}$に入っており、仮定より$A,A^c\in \mathcal{A}$であるので、$h^{-1}(B)\in \mathcal{A}$である。よって定義より$h(x):X\to\bar{\mathbb{R}}$は可測関数である。


\section{Ex3.4}
\begin{enumerate}
	\item $f:X\to\mathbb{R}$が$\sigma\left( \left\{ A_1, \cdots, A_m\right\} \right)$可測
	\item $\exists b_1,\cdots,b_m\ \in \mathbb{R}\ \text{s.t.}\ f = \sum_{i=1}^{m} b_i \cdot 1_{A_i}$
\end{enumerate}
が同値であることを示す。

\subsection{$1\Rightarrow 2$を示す。}
　$\left\{ A_1, \cdots, A_m\right\}$が排反であることから、$\sigma\left( \left\{ A_1, \cdots, A_m\right\} \right)$の要素は全て$\left\{ A_1, \cdots, A_m\right\}$の要素を組み合わせて得られる和集合、または$\phi$である。
　lemma3.5より、任意の$a\in \mathbb{R}$について$\left\{ x\in X\mid f(x)\leq a \right\} \in \sigma\left( \left\{ A_1, \cdots, A_m\right\} \right)$であるので、$\left\{ x\in X\mid f(x)\leq a \right\}$が$\left\{ A_1, \cdots, A_m\right\}$の要素を組み合わせて得られる和集合、または$\phi$でないといけない。

　仮に、$\exists i\in \left\{ 1,\cdots, m \right\}\ \text{s.t.}\ \sup_{x\in A_i} f(x) > \inf_{x\in A_i} f(x)$とすると、このような$i$を$i^{*}$とすると、$\inf_{x\in A_{i^{*}}} f(x) < a < \sup_{x\in A_{i^{*}}} f(x)$となるように$a\in \mathbb{R}$をとったときに、
\begin{align*}
	\left\{ x\in A_{i^{*}} \mid f(x)\leq a \right\} \neq A_{i^{*}}
	\left\{ x\in A_{i^{*}} \mid f(x)\leq a \right\} \subset A_{i^{*}}
\end{align*}
であるので、$\left\{ x\in X \mid f(x)\leq a \right\}$は$\left\{ A_1, \cdots, A_m\right\}$の要素の和集合では表すことができないため、$f:X\to \mathbb{R}$は$\sigma\left( \left\{ A_1, \cdots, A_m\right\} \right)$可測でなくなる。

　従って、$1$を仮定した時、
\begin{align*}
\forall i\in \left\{ 1, \cdots, m\right\}\ \forall x \in A_i\ f(x) \text{\ is constant}
\end{align*}
を得る。これはすなわち$2$を意味する。

\subsection{$2\Rightarrow 1$を示す。}

\section{Ex3.6}

\section{Ex3.15}

\section{Ex3.16}


\end{document}





































